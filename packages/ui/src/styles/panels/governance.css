/* Governance Panel */
.governance-panel {
  @apply w-[400px];
}

/* Loading State */
.governance-loading {
  @apply flex items-center justify-center gap-3 py-8;
  color: var(--text-muted);
}

.governance-loading-spinner {
  @apply w-5 h-5 animate-spin;
}

/* Error State */
.governance-error {
  @apply flex items-center gap-2 p-4 rounded-md;
  background-color: var(--status-error-bg, rgba(239, 68, 68, 0.1));
  color: var(--status-error, #ef4444);
}

/* Summary Section */
.governance-summary {
  @apply p-4 rounded-lg mb-4;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
}

.governance-summary-row {
  @apply flex items-center justify-between py-1;
}

.governance-summary-label {
  @apply text-sm;
  color: var(--text-secondary);
}

.governance-summary-value {
  @apply text-sm font-semibold;
  color: var(--text-primary);
}

.governance-audit-mode {
  @apply flex items-center gap-2 mt-3 pt-3 text-sm;
  border-top: 1px solid var(--border-base);
  color: var(--status-warning, #eab308);
}

/* Quick Actions */
.governance-quick-actions {
  @apply flex gap-2 mb-4;
}

.governance-quick-action {
  @apply flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-xs font-medium transition-colors;
  background-color: var(--surface-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-base);
}

.governance-quick-action:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
  color: var(--text-primary);
}

.governance-quick-action:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Governance Section */
.governance-section {
  @apply mb-4;
}

.governance-section-header {
  @apply flex items-center gap-2 w-full py-2 px-3 rounded-md text-left text-sm font-medium;
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  border: none;
  cursor: pointer;
  transition: background-color 0.15s;
}

.governance-section-header:hover {
  background-color: var(--surface-tertiary);
}

.governance-section-count {
  @apply ml-auto px-2 py-0.5 rounded text-xs;
  background-color: var(--surface-tertiary);
  color: var(--text-secondary);
}

.governance-section-description {
  @apply text-xs mt-1 px-3;
  color: var(--text-muted);
}

/* Rules List */
.governance-rules-list {
  @apply mt-2 space-y-2;
}

.governance-rule {
  @apply p-3 rounded-md;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
}

.governance-rule-header {
  @apply flex items-center gap-2 mb-2;
}

.governance-rule-id {
  @apply font-mono text-sm font-medium;
  color: var(--text-primary);
}

.governance-action-badge {
  @apply px-2 py-0.5 rounded text-xs font-medium;
}

.governance-action-deny {
  background-color: var(--status-error-bg, rgba(239, 68, 68, 0.1));
  color: var(--status-error, #ef4444);
}

.governance-action-allow {
  background-color: var(--status-success-bg, rgba(34, 197, 94, 0.1));
  color: var(--status-success, #22c55e);
}

.governance-rule-pattern {
  @apply mb-2;
}

.governance-rule-pattern code {
  @apply text-xs px-2 py-1 rounded font-mono;
  background-color: var(--surface-tertiary);
  color: var(--text-secondary);
  word-break: break-all;
}

.governance-rule-reason {
  @apply text-sm mb-2;
  color: var(--text-secondary);
}

.governance-rule-suggestion {
  @apply flex items-start gap-2 text-xs p-2 rounded;
  background-color: var(--status-info-bg, rgba(59, 130, 246, 0.1));
  color: var(--status-info, #3b82f6);
}

.governance-rule-suggestion svg {
  @apply flex-shrink-0 mt-0.5;
}

/* Empty State */
.governance-empty {
  @apply flex flex-col items-center justify-center gap-3 py-12;
  color: var(--text-muted);
}

.governance-empty svg {
  @apply opacity-50;
}

/* Bottom Status Bar Governance Indicator */
.bottom-status-governance {
  @apply gap-1.5;
}

.bottom-status-governance-overrides {
  @apply ml-1 text-xs;
  color: var(--status-warning, #eab308);
}

/* Governance Button in Settings */
.era-governance-button {
  @apply mt-3;
}

/* Governance Block Message */
.governance-block-message {
  @apply p-4 rounded-lg my-2;
  background-color: var(--status-error-bg, rgba(239, 68, 68, 0.1));
  border: 1px solid var(--status-error, #ef4444);
}

.governance-block-header {
  @apply flex items-center gap-2 mb-2;
}

.governance-block-title {
  @apply font-semibold text-sm;
  color: var(--status-error, #ef4444);
}

.governance-block-rule {
  @apply font-mono text-xs px-2 py-0.5 rounded;
  background-color: var(--surface-secondary);
  color: var(--text-secondary);
}

.governance-block-command {
  @apply mb-2 p-2 rounded;
  background-color: var(--surface-secondary);
}

.governance-block-command code {
  @apply font-mono text-sm;
  color: var(--text-primary);
  word-break: break-all;
}

.governance-block-reason {
  @apply text-sm mb-2;
  color: var(--text-primary);
}

.governance-block-suggestion {
  @apply flex items-start gap-2 text-sm p-3 rounded mt-2;
  background-color: var(--surface-secondary);
  color: var(--text-secondary);
}

.governance-block-suggestion svg {
  @apply flex-shrink-0 mt-0.5;
  color: var(--status-info, #3b82f6);
}

.governance-block-actions {
  @apply flex items-center gap-2 mt-3;
}

.governance-block-override-btn {
  @apply px-3 py-1.5 rounded text-sm font-medium;
  background-color: var(--surface-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
  cursor: pointer;
  transition: background-color 0.15s;
}

.governance-block-override-btn:hover {
  background-color: var(--surface-secondary);
}

.governance-block-settings-link {
  @apply text-sm underline;
  color: var(--accent-primary);
  cursor: pointer;
}

/* Override Dialog */
.governance-dialog-overlay {
  @apply fixed inset-0 z-[55];
  background-color: var(--overlay-scrim);
}

.governance-dialog {
  @apply w-full max-w-md rounded-lg shadow-2xl;
  background-color: var(--surface-base);
  border: 1px solid var(--border-base);
}

.governance-dialog-header {
  @apply flex items-center justify-between px-4 py-3 border-b;
  border-color: var(--border-base);
}

.governance-dialog-title {
  @apply flex items-center gap-2 text-lg font-semibold;
  color: var(--text-primary);
}

.governance-dialog-close {
  @apply p-1 rounded hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors;
  color: var(--text-secondary);
}

.governance-dialog-content {
  @apply p-4 space-y-4;
}

.governance-dialog-rule-info {
  @apply p-3 rounded-lg;
  background-color: var(--surface-secondary);
}

.governance-dialog-rule-id {
  @apply font-mono text-sm font-medium mb-1;
  color: var(--text-primary);
}

.governance-dialog-rule-reason {
  @apply text-sm;
  color: var(--text-secondary);
}

.governance-dialog-rule-suggestion {
  @apply text-xs mt-2 pt-2 border-t;
  border-color: var(--border-base);
  color: var(--text-muted);
}

.governance-dialog-warning {
  @apply flex items-start gap-2 p-3 rounded-lg text-sm;
  background-color: var(--status-warning-bg, rgba(234, 179, 8, 0.1));
  color: var(--status-warning, #eab308);
}

.governance-dialog-form {
  @apply space-y-2;
}

.governance-dialog-label {
  @apply block text-sm font-medium;
  color: var(--text-primary);
}

.governance-dialog-textarea {
  @apply w-full px-3 py-2 rounded-md text-sm resize-none;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
  color: var(--text-primary);
}

.governance-dialog-textarea:focus {
  outline: none;
  border-color: var(--accent-primary);
}

.governance-dialog-textarea::placeholder {
  color: var(--text-muted);
}

.governance-dialog-hint {
  @apply text-xs;
  color: var(--text-muted);
}

.governance-dialog-error {
  @apply flex items-center gap-2 p-3 rounded-lg text-sm;
  background-color: var(--status-error-bg, rgba(239, 68, 68, 0.1));
  color: var(--status-error, #ef4444);
}

.governance-dialog-footer {
  @apply flex items-center justify-end gap-2 px-4 py-3 border-t;
  border-color: var(--border-base);
}

.governance-dialog-btn {
  @apply px-4 py-2 rounded-md text-sm font-medium transition-colors;
}

.governance-dialog-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.governance-dialog-btn-cancel {
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.governance-dialog-btn-cancel:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
}

.governance-dialog-btn-confirm {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
}

.governance-dialog-btn-confirm:hover:not(:disabled) {
  opacity: 0.9;
}

/* Override button in rule cards */
.governance-rule-override-btn {
  @apply px-2 py-1 rounded text-xs font-medium transition-colors;
  background-color: var(--surface-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-base);
}

.governance-rule-override-btn:hover {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}

/* Active override indicator */
.governance-rule-overridden {
  border-color: var(--status-success, #22c55e);
}

.governance-rule-override-badge {
  @apply px-2 py-0.5 rounded text-xs font-medium;
  background-color: var(--status-success-bg, rgba(34, 197, 94, 0.1));
  color: var(--status-success, #22c55e);
}

/* Success State */
.governance-success {
  @apply flex items-center gap-2 p-4 rounded-md;
  background-color: var(--status-success-bg, rgba(34, 197, 94, 0.1));
  color: var(--status-success, #22c55e);
}

/* ============================================ */
/* Advanced Governance Panel                    */
/* ============================================ */

.governance-advanced-panel {
  @apply w-[500px];
}

.governance-advanced-tabs {
  @apply flex gap-2 mb-4;
}

.governance-advanced-tab {
  @apply flex-1 px-3 py-2 rounded-md text-sm font-medium transition-colors;
  background-color: var(--surface-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-base);
}

.governance-advanced-tab:hover {
  background-color: var(--surface-tertiary);
}

.governance-advanced-tab.active {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}

.governance-advanced-path {
  @apply flex items-center gap-2 mb-4 text-xs;
  color: var(--text-muted);
}

.governance-advanced-path code {
  @apply px-2 py-1 rounded font-mono;
  background-color: var(--surface-secondary);
}

.governance-advanced-new {
  @apply text-xs;
  color: var(--status-warning, #eab308);
}

.governance-advanced-editor-wrapper {
  @apply mb-4;
}

.governance-advanced-editor {
  @apply w-full h-80 px-3 py-2 rounded-md text-sm font-mono resize-none;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
  color: var(--text-primary);
  line-height: 1.5;
}

.governance-advanced-editor:focus {
  outline: none;
  border-color: var(--accent-primary);
}

.governance-advanced-editor::placeholder {
  color: var(--text-muted);
}

.governance-advanced-actions {
  @apply flex items-center justify-end gap-2 mb-4;
}

.governance-advanced-btn {
  @apply flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors;
}

.governance-advanced-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.governance-advanced-btn-secondary {
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.governance-advanced-btn-secondary:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
}

.governance-advanced-btn-primary {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
}

.governance-advanced-btn-primary:hover:not(:disabled) {
  opacity: 0.9;
}

.governance-advanced-help {
  @apply space-y-2 text-xs;
  color: var(--text-muted);
}

.governance-advanced-help p {
  @apply leading-relaxed;
}

/* ============================================ */
/* Directives Editor Panel                      */
/* ============================================ */

.directives-editor-panel {
  @apply w-[500px];
}

.directives-editor-tabs {
  @apply flex gap-2 mb-4;
}

.directives-editor-tab {
  @apply flex-1 flex items-center justify-center gap-2 px-3 py-2 rounded-md text-sm font-medium transition-colors;
  background-color: var(--surface-secondary);
  color: var(--text-secondary);
  border: 1px solid var(--border-base);
}

.directives-editor-tab:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
}

.directives-editor-tab:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.directives-editor-tab.active {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}

.directives-editor-path {
  @apply flex items-center gap-2 mb-4 text-xs;
  color: var(--text-muted);
}

.directives-editor-path code {
  @apply px-2 py-1 rounded font-mono;
  background-color: var(--surface-secondary);
}

.directives-editor-new {
  @apply text-xs;
  color: var(--status-warning, #eab308);
}

.directives-editor-wrapper {
  @apply mb-4;
}

.directives-editor-textarea {
  @apply w-full h-80 px-3 py-2 rounded-md text-sm font-mono resize-none;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
  color: var(--text-primary);
  line-height: 1.6;
}

.directives-editor-textarea:focus {
  outline: none;
  border-color: var(--accent-primary);
}

.directives-editor-textarea::placeholder {
  color: var(--text-muted);
}

.directives-editor-actions {
  @apply flex items-center justify-end gap-2 mb-4;
}

.directives-editor-btn {
  @apply flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors;
}

.directives-editor-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.directives-editor-btn-secondary {
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.directives-editor-btn-secondary:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
}

.directives-editor-btn-primary {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
}

.directives-editor-btn-primary:hover:not(:disabled) {
  opacity: 0.9;
}

.directives-editor-help {
  @apply space-y-2 text-xs;
  color: var(--text-muted);
}

.directives-editor-help p {
  @apply leading-relaxed;
}

/* ============================================ */
/* Constitution Viewer Panel                    */
/* ============================================ */

.constitution-viewer-panel {
  @apply w-[500px];
}

.constitution-viewer-path {
  @apply flex items-center gap-2 mb-4 text-xs;
  color: var(--text-muted);
}

.constitution-viewer-path code {
  @apply px-2 py-1 rounded font-mono;
  background-color: var(--surface-secondary);
}

.constitution-viewer-empty {
  @apply flex flex-col items-center justify-center gap-3 py-12 text-center;
  color: var(--text-muted);
}

.constitution-viewer-empty h3 {
  @apply text-lg font-medium;
  color: var(--text-primary);
}

.constitution-viewer-empty p {
  @apply text-sm max-w-xs;
}

.constitution-viewer-command {
  @apply mt-4 px-4 py-2 rounded-md text-sm font-mono;
  background-color: var(--surface-secondary);
  color: var(--text-primary);
}

.constitution-viewer-content {
  @apply space-y-4;
}

.constitution-viewer-notice {
  @apply flex items-center gap-2 p-3 rounded-md text-sm;
  background-color: var(--status-info-bg, rgba(59, 130, 246, 0.1));
  color: var(--status-info, #3b82f6);
}

.constitution-viewer-markdown {
  @apply p-4 rounded-lg overflow-auto max-h-[60vh];
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
}

.constitution-viewer-actions {
  @apply flex items-center justify-end gap-2;
}

.constitution-viewer-btn {
  @apply flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-colors;
  background-color: var(--surface-secondary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.constitution-viewer-btn:hover:not(:disabled) {
  background-color: var(--surface-tertiary);
}

.constitution-viewer-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ============================================ */
/* Rule Toggle Switches                         */
/* ============================================ */

.governance-rule-toggle {
  @apply flex items-center justify-center w-8 h-8 rounded ml-auto transition-colors;
  border: none;
  cursor: pointer;
}

.governance-rule-toggle:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.governance-rule-toggle-off {
  color: var(--text-muted);
}

.governance-rule-toggle-off:hover:not(:disabled) {
  color: var(--text-secondary);
}

.governance-rule-toggle-on {
  color: var(--status-success, #22c55e);
}

.governance-rule-toggle-on:hover:not(:disabled) {
  color: var(--status-success, #22c55e);
  opacity: 0.8;
}

.governance-rule-toggle-spinner {
  @apply w-4 h-4 rounded-full animate-spin;
  border: 2px solid var(--border-base);
  border-top-color: var(--accent-primary);
}

.governance-rule-locked {
  @apply ml-auto;
  color: var(--text-muted);
}

/* ============================================ */
/* Directives Content in Governance Panel       */
/* ============================================ */

.governance-directives-content {
  @apply mt-2 p-3 rounded-md;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
}

.governance-directive-preview {
  @apply mb-3 p-2 rounded text-xs font-mono overflow-auto max-h-32;
  background-color: var(--surface-tertiary);
  color: var(--text-secondary);
}

.governance-directive-preview pre {
  @apply whitespace-pre-wrap;
  margin: 0;
}

.governance-directive-edit-btn,
.governance-directive-create-btn {
  @apply px-3 py-1.5 rounded text-xs font-medium transition-colors;
  background-color: var(--surface-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.governance-directive-edit-btn:hover,
.governance-directive-create-btn:hover {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}

.governance-directives-empty {
  @apply text-center py-4;
  color: var(--text-muted);
}

.governance-directives-empty p {
  @apply text-sm mb-3;
}

/* ============================================ */
/* Constitution Section with GitHub Button      */
/* ============================================ */

.governance-section-constitution {
  @apply p-4 rounded-lg;
  background-color: var(--surface-secondary);
  border: 1px solid var(--border-base);
}

.governance-constitution-header {
  @apply flex items-center justify-between mb-1;
}

.governance-constitution-info {
  @apply flex items-center gap-2 text-sm font-medium;
  color: var(--text-primary);
}

.governance-constitution-view-btn {
  @apply px-3 py-1 rounded text-xs font-medium transition-colors;
  background-color: var(--surface-tertiary);
  color: var(--text-primary);
  border: 1px solid var(--border-base);
}

.governance-constitution-view-btn:hover {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}

.governance-request-change-btn {
  @apply flex items-center justify-center gap-2 w-full mt-3 px-4 py-2 rounded-md text-sm font-medium transition-colors;
  background-color: var(--surface-tertiary);
  color: var(--text-secondary);
  border: 1px solid var(--border-base);
}

.governance-request-change-btn:hover {
  background-color: var(--accent-primary);
  color: var(--accent-primary-text, white);
  border-color: var(--accent-primary);
}
